<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>LEAP &#8212; stakeholders and lessons</title>
    <meta name="description" content="Interactive database of stakeholders with formal status that have or can have an impact on the specific problems of the young population in the Cluj metropolitan area, lessons learnt from the quantitative and qualitative studies as well as policy recommendations">
    <meta name="author" content="Denes Csala">

    <link rel="icon" href="https://leapcluj.ro/wp-content/uploads/2020/05/cropped-LEAP-logo1x1-192x192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="https://leapcluj.ro/wp-content/uploads/2020/05/cropped-LEAP-logo1x1-180x180.png" />
    <meta name="msapplication-TileImage" content="https://leapcluj.ro/wp-content/uploads/2020/05/cropped-LEAP-logo1x1-270x270.png" />

    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/bubbles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700,900">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,900">
</head>

<body>
    <div class="container">
        <div id="header-parent">
            <div id="header">
                <table>
                    <tr>
                        <td>
                            <a href="//leapcluj.ro/" target='_parent'>
                                <img src="img/leap_logo.png" alt="back to main page" id="logo">
                                <div id="logotext">back to main page</div>
                            </a>
                        </td>
                        <td>
                            <div id="title">
                                <div id="title1">
                                    LEAP &#8212; stakeholders and lessons
                                </div>
                                <div id="title2">
                                    Interactive database of stakeholders with formal status that have or can have an impact on the specific problems of the young population in the Cluj metropolitan area, lessons learnt from the quantitative and qualitative studies as well as policy recommendations
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="main-parent">
            <div id="main">
                <div id="toolbar">
                    <span id="group"><span>Group by</span>
                    <a href="javascript:;" id="all" class="button">All</a>
                    <a href="javascript:;" id="priority" class="button active">Priority</a>
                    </span>
                    <span id="filter" style='margin-left: 30px;'><span>Filter by priority</span></span>
                    <span id="neighbors"><span>Show only neighbors on selection</span>
                    <a href="javascript:;" id="on" class="button">On</a>
                    <a href="javascript:;" id="off" class="button active">Off</a>
                    </span>
                    <span id="color"><span>Color by</span>
                    <a href="javascript:;" id="all" class="button">All</a>
                    <a href="javascript:;" id="priority" class="button active">Priority</a>
                    </span>
                </div>
                <div id="vis">

                    <div id='legend'><span>select</span>
                        <img src="img/left.png" alt="select" class="mouse">
                        <img src="img/right.png" alt="isolate" class="mouse"><span>isolate</span>
                        <div id='dc2' class='credit'>
                            <a href='https://data.csaladen.es/' target='_blank' rel='author'>
                                <img src='https://www.csaladen.es/favicon.png' style="height:30px;" title='viz created by: Denes Csala Data Consulting' alt='viz by Denes Csala Data Consulting' />
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div id="details">
            <div id="selected-head-parent">
                <div id="selected-head">
                </div>
            </div>
            <div id="tabs-head-parent">
                <table id="tabs-head">
                    <thead>
                        <th style="padding-left:10px;">
                            <div class='button active' id='stakeholder-tab'>stakeholders</div>
                        </th>
                        <th>
                            <div style="width:20px;">&nbsp;</div>
                        </th>
                        <th style="padding-right:10px;">
                            <div class='button' id='lessons-tab'>lessons</div>
                        </th>
                    </thead>
                </table>
            </div>
            <div id="stakeholder-all">
                <div id="stakeholder-head-parent">
                    <table id="stakeholder-head" class='table'>
                        <thead>
                            <th><span>keywords</span>&nbsp;&nbsp;<span class="stakeholder-head-icon">▼</span></th>
                            <th>stakeholders</th>
                        </thead>
                    </table>
                </div>
                <div id="stakeholder-table-parent">
                    <div id="stakeholder-table">
                        <table class='table'>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div id="lessons-all">
                <div id="lessons-head-parent">
                    <table id="lessons-head" class='table'>
                        <thead>
                            <th><span>lessons</span>&nbsp;&nbsp;<span class="lessons-head-icon">▼</span></th>
                            <th>
                                <div id='lessons-legend'>
                                    <span>
                                        <img src="img/type/pol.png">
                                        <a href="javascript:;" class="button active"
                                            id="toggle-lessons_Policy-recommendations">
                                            Policy recommendations
                                        </a>
                                    </span>
                                    <span>
                                        <img src="img/type/quan.png">
                                        <a href="javascript:;" class="button active"
                                            id="toggle-lessons_Quantitative-research">
                                            Quantitative research
                                        </a>
                                    </span>
                                    <span>
                                        <img src="img/type/qual.png">
                                        <a href="javascript:;" class="button active" id="toggle-lessons_Qualitative-research">
                                            Qualitative research
                                        </a>
                                    </span>
                                </div>
                            </th>
                        </thead>
                    </table>
                </div>
                <div id="lessons-table-parent">
                    <div id="lessons-table">
                    </div>
                </div>
            </div>
        </div>
        <button class="scrollToTopBtn">▲</button>
    </div>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- <script src="src/d3js.org/d3.v4.min.js"></script> -->
    <!-- <script src="//d3plus.org/js/d3plus-text.v0.10.full.min.js"></script> -->
    <!-- <script src="//d3plus.org/js/d3plus-plot.v0.9.full.min.js"></script> -->
    <!-- <script src="https://d3plus.org/js/d3plus.v2.0.0-alpha.30.full.min.js"></script> -->
    <script src="src/d3plus2.js"></script>
    <script src="src/tooltip.js"></script>
    <script src="src/bubbles.js"></script>
    <script>
        //scrolltotop

        var scrollToTopBtn = document.querySelector(".scrollToTopBtn")
        var rootElement = document.documentElement

        function handleScroll() {
            // Do something on scroll
            var scrollTotal = rootElement.scrollHeight - rootElement.clientHeight
            if ((rootElement.scrollTop / scrollTotal) > 0.05) {
                // Show button
                scrollToTopBtn.classList.add("showBtn")
            } else {
                // Hide button
                scrollToTopBtn.classList.remove("showBtn")
            }
        }

        function scrollToTop() {
            // Scroll to top logic
            rootElement.scrollTo({
                top: 0,
                behavior: "smooth"
            })
        }

        scrollToTopBtn.addEventListener("click", scrollToTop)
            // document.addEventListener("scroll", handleScroll)

        //rescale

        // var width = 1000; //defined in bubbles.js
        // var height = 10;

        var rescale = function() {

            //scale content
            var container = document.getElementsByClassName('container')[0]
            var parent = document.body;
            var scal = Math.min(
                (parent.offsetWidth) /
                width,
                (parent.offsetHeight) /
                height)

            if (scal < 1) {

                console.log('rendering...scaling', scal)
                container.width = width
                container.height = height

                container.style.WebkitTransform = "scale(" + scal + ")";
                container.style.OTransform = "scale(" + scal + ")";
                container.style.MozTransform = "scale(" + scal + ")";
                container.style.msTransform = "scale(" + scal + ")";
                container.style.Transform = "scale(" + scal + ")";

                container.style.WebkitTransformOrigin = "0% 0%";
                container.style.OTransformOrigin = "0% 0%";
                container.style.MozTransformOrigin = "0% 0%";
                container.style.msTransformOrigin = "0% 0%";
                container.style.TransformOrigin = "0% 0%";
            } else {
                console.log('rendering...no scaling', scal)
                container.width = parent.offsetWidth
                container.height = parent.offsetHeight
            }

            // container.attr('src', 'frame.html')

        };

        //init view
        rescale();
    </script>

</body>

</html>